<!DOCTYPE html>
<html>
<head>
    <title>Edit Campaign</title>
    <script>
        function toggleRechargeFields() {
            var type = document.getElementById("RECHARGETYPE").value;
            var rechargeFields = document.getElementById("recharge_fields");
            if(type === "RECHARGER") {
                rechargeFields.style.display = "block";
            } else {
                rechargeFields.style.display = "none";
            }
        }
        window.onload = toggleRechargeFields; // initial check
    </script>
</head>
<body>
    <h2>Edit Campaign</h2>
    <form method="POST">
        {% for col, val in zip(columns, campaign) %}
            {% if col not in ['RECHARGERNR','RECHARGERBR'] %}
                <label>{{ col }}:</label>
                {% if col == 'RECHARGETYPE' %}
                    <select name="RECHARGETYPE" id="RECHARGETYPE" onchange="toggleRechargeFields()">
                        <option value="" {% if val is none or val == '' %}selected{% endif %}>Select Type</option>
                        <option value="RECHARGER" {% if val == 'RECHARGER' %}selected{% endif %}>RECHARGER</option>
                        <option value="BUNDLE" {% if val == 'BUNDLE' %}selected{% endif %}>BUNDLE</option>
                        <option value="NORMAL RECHARGE" {% if val == 'NORMAL RECHARGE' %}selected{% endif %}>NORMAL RECHARGE</option>
                        <option value="ALL" {% if val == 'ALL' %}selected{% endif %}>ALL</option>
                    </select>
                {% else %}
                    <input type="text" name="{{ col }}" value="{{ val if val is not none else '' }}">
                {% endif %}
                <br><br>
            {% endif %}
        {% endfor %}

        <div id="recharge_fields">
            <label>RECHARGERNR:</label>
            <input type="text" name="RECHARGERNR"
                   value="{% if 'RECHARGERNR' in columns %}{{ campaign[columns.index('RECHARGERNR')] }}{% endif %}">
            <br><br>

            <label>RECHARGERBR:</label>
            <input type="text" name="RECHARGERBR"
                   value="{% if 'RECHARGERBR' in columns %}{{ campaign[columns.index('RECHARGERBR')] }}{% endif %}">
            <br><br>
        </div>

        <button type="submit">Update</button>
    </form>

    <script>
        // hide recharge fields initially if not RECHARGER
        var type = document.getElementById("RECHARGETYPE").value;
        document.getElementById("recharge_fields").style.display = (type === "RECHARGER") ? "block" : "none";
    </script>
</body>
</html>
